!function(e,n){for(var t in n)e[t]=n[t]}(exports,function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=12)}({0:function(e,n){e.exports=require("dotenv")},1:function(e,n){e.exports=require("regenerator-runtime/runtime")},12:function(e,n,t){function r(e,n,t,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,o)}t(1),t(0).config();var o=t(2),a=process.env.LAMBDA_ENV;n.handler=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var t,r,c,i,u,s,p,l,f,d,y,m,b,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(n.body),r=t.buyerName,c=t.buyerEmail,i=t.buyerPhone,u=t.buyerAddr,s=t.buyerPostal,p=t.channel,l=t.total,f=t.currency,d=t.date,y=t.oid,m=t.paymentNo,b=t.paymentName,h="production"===a?"https://fervent-minsky-bc0840.netlify.app":"http://localhost:8000",v='\n        <div>\n            <div style="color: #000 !important; font-size: 16px;">\n    \n                <img style="height: 50px; width: 150px;" src="https://firebasestorage.googleapis.com/v0/b/etheral-dev-f86af.appspot.com/o/flamelink%2Fmedia%2FEtheral.png?alt=media&token=334b253c-ad82-4cca-809c-a7ee225ae5cb" />\n                <h2>Thank you for your order!</h2>\n                <p>\n                    Hello '.concat(r,', please make a payment to:\n                </p>\n\n                <strong style="margin: 16px 0;">\n                    ').concat(m," - ").concat(p.toUpperCase(),"\n                    <br />\n                    Account Name: ").concat(b,"\n                    <br />\n                    Total: ").concat(f," ").concat(l,"\n                </strong>\n\n                <p>\n                    You have 24 hours to complete your transfer. Please make sure that you transfer the \n                    right amount. If you transfer incorrectly, the system will not automatiocally mark your\n                    order as paid.                \n                </p>\n\n                <p>\n                    Once we have checked your payment, you will be notified via email. Please allow up\n                    to 24 hours after your payment confirmation for your order status to be “paid”.\n                </p>\n\n                <a href=").concat(h,"/order?oid=").concat(y,'>\n                    <button style="border-radius: 0px; background-color: #000; color: #fff; border: none; padding: 8px 4px;">View my order</button>\n                </a>\n\n                <div style="display: flex; justify-content: center; width: 100%; margin-top: 16px;">\n                    <div style="margin-right: 32px;">\n                        <h4>CUSTOMER INFORMATION</h4>\n                        <p>\n                            ').concat(r," <br />\n                            ").concat(i," <br />\n                            ").concat(c," <br />\n                            Order date: ").concat(d,"\n                        </p>\n                    </div>\n                    <div>\n                        <h4>SHIPPING ADDRESS</h4>\n                        <p>\n                            ").concat(u," <br />\n                            ").concat(s,"\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    "),e.prev=4,e.next=7,o("".concat("https://fervent-minsky-bc0840.netlify.app/.netlify/functions","/send-email?type=VERIFY_ORDER"),{method:"POST",body:JSON.stringify({template:v,to:c})});case 7:return e.sent,e.next=10,{statusCode:200,body:JSON.stringify({msg:"Success"})};case 10:return e.abrupt("return",e.sent);case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,{statusCode:400,body:JSON.stringify({msg:"Verify order not successful"})};case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,null,[[4,13]])})),function(){var n=this,t=arguments;return new Promise((function(o,a){var c=e.apply(n,t);function i(e){r(c,o,a,i,u,"next",e)}function u(e){r(c,o,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()},2:function(e,n){e.exports=require("node-fetch")}}));