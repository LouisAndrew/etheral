!function(n,e){for(var t in e)n[t]=e[t]}(exports,function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=12)}({0:function(n,e){n.exports=require("dotenv")},1:function(n,e){n.exports=require("regenerator-runtime/runtime")},12:function(n,e,t){function r(n,e,t,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void t(n)}i.done?e(u):Promise.resolve(u).then(r,o)}t(1),t(0).config();var o=t(2),a=process.env.LAMBDA_ENV;e.handler=function(){var n,e=(n=regeneratorRuntime.mark((function n(e){var t,r,c,i,u,s,p,l,d,f,y,m,h,v,b,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=JSON.parse(e.body),r=t.name,c=t.email,i=t.phone,u=t.address,s=t.postal,p=t.channel,l=t.total,d=t.currency,f=t.date,y=t.oid,m=t.paymentNo,h=t.paymentName,console.log(e.body),v="production"===a?"https://fervent-minsky-bc0840.netlify.app":"http://localhost:8000",b='\n        <div>\n            <div style="color: #000 !important; font-size: 16px;">\n    \n                <img style="height: 50px; width: 150px;" src="https://firebasestorage.googleapis.com/v0/b/etheral-dev-f86af.appspot.com/o/flamelink%2Fmedia%2FEtheral.png?alt=media&token=334b253c-ad82-4cca-809c-a7ee225ae5cb" />\n                <h2>Thank you for your order!</h2>\n                <p>\n                    Hello '.concat(r,', please make a payment to:\n                </p>\n\n                <strong style="margin: 16px 0;">\n                    ').concat(m," - ").concat(p.toUpperCase(),"\n                    <br />\n                    Account Name: ").concat(h,"\n                    <br />\n                    Total: ").concat(d," ").concat(l,"\n                </strong>\n\n                <p>\n                    You have 24 hours to complete your transfer. Please make sure that you transfer the \n                    right amount. If you transfer incorrectly, the system will not automatiocally mark your\n                    order as paid.                \n                </p>\n\n                <p>\n                    Once we have checked your payment, you will be notified via email. Please allow up\n                    to 24 hours after your payment confirmation for your order status to be “paid”.\n                </p>\n\n                <a href=").concat(v,"/order?oid=").concat(y,'>\n                    <button style="border-radius: 0px; background-color: #000; color: #fff; border: none; padding: 8px 4px;">View my order</button>\n                </a>\n\n                <div style="display: flex; justify-content: center; width: 100%; margin-top: 16px;">\n                    <div style="margin-right: 32px;">\n                        <h4>CUSTOMER INFORMATION</h4>\n                        <p>\n                            ').concat(r," <br />\n                            ").concat(i," <br />\n                            ").concat(c," <br />\n                            Order date: ").concat(f,"\n                        </p>\n                    </div>\n                    <div>\n                        <h4>SHIPPING ADDRESS</h4>\n                        <p>\n                            ").concat(u," <br />\n                            ").concat(s,"\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    "),g="production"===a?"https://fervent-minsky-bc0840.netlify.app/.netlify/functions":"http://localhost:9000",n.prev=5,n.next=8,o("".concat(g,"/send-email?type=VERIFY_ORDER"),{method:"POST",body:JSON.stringify({template:b,to:c})});case 8:return n.sent,n.next=11,{statusCode:200,body:JSON.stringify({msg:"Success"})};case 11:return n.abrupt("return",n.sent);case 14:return n.prev=14,n.t0=n.catch(5),n.next=18,{statusCode:400,body:JSON.stringify({msg:"Verify order not successful"})};case 18:return n.abrupt("return",n.sent);case 19:case"end":return n.stop()}}),n,null,[[5,14]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var c=n.apply(e,t);function i(n){r(c,o,a,i,u,"next",n)}function u(n){r(c,o,a,i,u,"throw",n)}i(void 0)}))});return function(n){return e.apply(this,arguments)}}()},2:function(n,e){n.exports=require("node-fetch")}}));